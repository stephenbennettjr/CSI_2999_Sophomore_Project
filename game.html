<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Guessing Game</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <script>

        
        window.onSpotifyWebPlaybackSDKReady = () => {
            function getAccessToken() {
                let hash = window.location.hash.substring(1);
                let params = new URLSearchParams(hash);
                let token = params.get('access_token');
                if (!token) {
                token = new URLSearchParams(window.location.search).get('access_token');
                }
                return token;
            }
            
            const token = getAccessToken();
            console.log('oauth attempt');
            const player = new Spotify.Player({
                name: 'Web Playback SDK Quick Start Player',
                getOAuthToken: cb => { cb(token); },
                volume: 0.5
            });
            console.log(player.name);
            player.addListener('ready', ({ device_id }) => {
            console.log('Ready with Device ID', device_id);
            });
            player.addListener('not_ready', ({ device_id }) => {
            console.log('Device ID has gone offline', device_id);
            });
            player.addListener('initialization_error', ({ message }) => {
            console.error(message);
            });

            player.addListener('authentication_error', ({ message }) => {
                console.error(message);
            });

            player.addListener('account_error', ({ message }) => {
                console.error(message);
            });
            player.connect();
        }
           
    </script>
    <div class="game-container">
        <div class="game-view">
            <div class="game-function">
                <div class="left-div">
                    <div class="segment-selector">
                        <div class="track-element">
                            <div class="element-select active"></div>
                            <div class="element-label">Segment 1</div>
                        </div>
                        <div class="track-element">
                            <div class="element-select inactive"></div>
                            <div class="element-label">Segment 2</div>
                        </div>
                        <div class="track-element">
                            <div class="element-select inactive"></div>
                            <div class="element-label">Segment 3</div>
                        </div>
                        <div class="track-element">
                            <div class="element-select inactive"></div>
                            <div class="element-label">Segment 4</div>
                        </div>
                        <div class="track-element">
                            <div class="element-select inactive"></div>
                            <div class="element-label">Segment 5</div>
                        </div>
                    </div>
                    <div class="stats-container">
                        <ul class="stats-list">
                            <li class="stats-item">Attempts: <span id="attempts"></span></li>
                            <li class="stats-item">Score: <span id="score"></span></li>
                            <li class="stats-item">Songs: <span id="songs"></span></li>
                        </ul>
                    </div>
                </div>
                <div class="right-div">
                    <div class="player-container">
                        <div class="art-container">
                            <blur><img id="album-art" src="images/albumart2.jpg" alt="Album Art"></blur>
                            <div id="blur" class="blur"></div>
                        </div>
                        <div class="controls-container">
                            <div class="player-controls">
                              <div class="scrubber-container">
                                <span class="time-display">1:23</span>
                                <div class="progress-bar">
                                  <div class="progress-fill"></div>
                                  <div class="progress-handle"></div>
                                </div>
                                <span class="time-display">3:45</span>
                              </div>
                              <div class="play-controls">
                                <button class="control-button" aria-label="Previous">
                                    <svg width="16" height="16" viewBox="0 0 16 16">
                                      <path d="M13 2.5L5 7.119V3H3v10h2V8.881l8 4.619z" fill="currentColor"></path>
                                    </svg>
                                  </button>
                                <button class="play-pause-button play-button">▶</button>
                                <button class="play-pause-button pause-button" style="display: none;">⏸</button>
                                <button class="control-button" aria-label="Next">
                                    <svg width="16" height="16" viewBox="0 0 16 16">
                                      <path d="M11 3v4.119L3 2.5v11l8-4.619V13h2V3z" fill="currentColor"></path>
                                    </svg>
                                  </button>
                              </div>
                            </div>
                          </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="guess-container">
        <div class="guess-view">
            <input type="text" id="guess" class="guess-input" placeholder="Guess the song...">
        </div>
        <div class="select-year">
            <!--<select id="year-select">
                <option value="year" id ="year">Select Year</option>
            </select> -->
        </div>
        <button id="guess-button">Guess!</button>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const playButton = document.querySelector('.play-button');
            const pauseButton = document.querySelector('.pause-button');
        
            playButton.addEventListener('click', function() {
                playButton.style.display = 'none';
                pauseButton.style.display = 'block';
            });
        
            pauseButton.addEventListener('click', function() {
                pauseButton.style.display = 'none';
                playButton.style.display = 'block';
            });
        });
    </script>
</body>
</html>

