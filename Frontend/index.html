<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guess the Song - Login with Spotify</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Welcome to Guess the Song!</h1>
      <p>Login with your Spotify account to continue.</p>
      <button type="button" id="spotify-login">Login with Spotify</button>
      <footer>
        <p>Created by Christian Kalaj, Patrick Harry, Stephen Bennett, Terence Pierson</p>
      </footer>
    </div>
    
    <script>
      document.getElementById("spotify-login").addEventListener("click", function() {
        const clientId = 'Enter client ID';
        // Make sure the redirect URI matches one set in Spotify Developer Dashboard.
        const redirectUri = 'http://127.0.0.1:5500/homepage.html';  
        const scopes = 'user-read-private user-read-email';
        
        const authEndpoint = 'https://accounts.spotify.com/authorize';
        // Using implicit grant flow (access token is returned in the URL hash)
        const authUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${encodeURIComponent(scopes)}&response_type=token&show_dialog=true`;
        
        window.location.href = authUrl;
      });
    </script>
  </body>
</html>
